import*as utils from"text-fragments-polyfill/src/text-fragment-utils";const injectByTextFragments=t=>{let e=[];const r=()=>{e.forEach(t=>t[0](t[1])),e=t.flatMap(e=>utils.parseFragmentDirectives({text:e.textFragments}).text.flatMap(t=>{t=utils.processTextFragmentDirective(t);return 1!==t.length?[]:[[e.cleanUp,e.inject(t[0])]]}))};r();const s=new MutationObserver(()=>{s.disconnect(),r(),n()}),n=()=>s.observe(document.body,{subtree:!0,childList:!0,characterData:!0});n()};export{injectByTextFragments};
