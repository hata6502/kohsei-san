import*as utils from"text-fragments-polyfill/src/text-fragment-utils";const injectByTextFragments=t=>{let e=[];const s=()=>{e.forEach(t=>t[0](t[1])),e=t.flatMap(s=>utils.parseFragmentDirectives({text:s.textFragments}).text.flatMap(t=>{const e=utils.processTextFragmentDirective(t);return e.map(t=>[s.cleanUp,s.inject(t)])}))};s();const r=new MutationObserver(()=>{r.disconnect(),s(),n()}),n=()=>r.observe(document.body,{subtree:!0,childList:!0,characterData:!0});n()};export{injectByTextFragments};
